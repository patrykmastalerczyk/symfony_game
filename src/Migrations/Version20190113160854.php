<?php declare(strict_types=1);

namespace DoctrineMigrations;

use Doctrine\DBAL\Schema\Schema;
use Doctrine\Migrations\AbstractMigration;

/**
 * Auto-generated Migration: Please modify to your needs!
 */
final class Version20190113160854 extends AbstractMigration
{
    public function up(Schema $schema) : void
    {
        // this up() migration is auto-generated, please modify it to your needs
        $this->abortIf($this->connection->getDatabasePlatform()->getName() !== 'mysql', 'Migration can only be executed safely on \'mysql\'.');

        $this->addSql('ALTER TABLE anty_crasher CHANGE id id INT AUTO_INCREMENT NOT NULL');
        $this->addSql('DROP INDEX name_index ON core_members');
        $this->addSql('DROP INDEX member_groups ON core_members');
        $this->addSql('DROP INDEX twitter_id ON core_members');
        $this->addSql('ALTER TABLE core_members CHANGE name name VARCHAR(255) NOT NULL, CHANGE member_group_id member_group_id SMALLINT NOT NULL, CHANGE email email VARCHAR(150) NOT NULL, CHANGE joined joined INT NOT NULL, CHANGE ip_address ip_address VARCHAR(46) NOT NULL, CHANGE warn_lastwarn warn_lastwarn INT NOT NULL, CHANGE restrict_post restrict_post INT NOT NULL, CHANGE msg_count_new msg_count_new INT NOT NULL, CHANGE msg_count_total msg_count_total INT NOT NULL, CHANGE msg_count_reset msg_count_reset INT NOT NULL, CHANGE msg_show_notification msg_show_notification INT NOT NULL, CHANGE last_visit last_visit INT DEFAULT NULL, CHANGE last_activity last_activity INT DEFAULT NULL, CHANGE mod_posts mod_posts INT NOT NULL, CHANGE auto_track auto_track VARCHAR(256) DEFAULT NULL, CHANGE temp_ban temp_ban INT DEFAULT NULL, CHANGE mgroup_others mgroup_others VARCHAR(245) NOT NULL, CHANGE members_seo_name members_seo_name VARCHAR(255) NOT NULL, CHANGE failed_login_count failed_login_count SMALLINT NOT NULL, CHANGE members_profile_views members_profile_views INT UNSIGNED NOT NULL, CHANGE members_bitoptions members_bitoptions INT UNSIGNED NOT NULL, CHANGE fb_uid fb_uid BIGINT UNSIGNED NOT NULL, CHANGE twitter_id twitter_id VARCHAR(255) NOT NULL, CHANGE twitter_token twitter_token VARCHAR(255) NOT NULL, CHANGE twitter_secret twitter_secret VARCHAR(255) NOT NULL, CHANGE notification_cnt notification_cnt INT NOT NULL, CHANGE ipsconnect_id ipsconnect_id INT NOT NULL, CHANGE pp_cover_photo pp_cover_photo VARCHAR(255) NOT NULL, CHANGE profilesync_lastsync profilesync_lastsync INT NOT NULL COMMENT \'Indicates the last time any profile sync service was ran\', CHANGE members_bitoptions2 members_bitoptions2 INT UNSIGNED NOT NULL, CHANGE create_menu create_menu TEXT DEFAULT NULL, CHANGE members_disable_pm members_disable_pm TINYINT(1) NOT NULL COMMENT \'0 - not disabled, 1 - disabled, member can re-enable, 2 - disabled\', CHANGE marked_site_read marked_site_read INT UNSIGNED DEFAULT NULL, CHANGE pp_cover_offset pp_cover_offset INT NOT NULL, CHANGE member_posts member_posts INT NOT NULL, CHANGE failed_mfa_attempts failed_mfa_attempts SMALLINT UNSIGNED DEFAULT NULL COMMENT \'Number of times tried and failed MFA\', CHANGE member_have_graphicnickname member_have_graphicnickname INT NOT NULL, CHANGE member_enable_graphicnickname member_enable_graphicnickname INT NOT NULL, CHANGE member_have_profilemusic member_have_profilemusic INT NOT NULL, CHANGE member_enable_profilemusic member_enable_profilemusic INT NOT NULL');
        $this->addSql('CREATE INDEX name_index ON core_members (name)');
        $this->addSql('CREATE INDEX member_groups ON core_members (member_group_id, mgroup_others)');
        $this->addSql('CREATE INDEX twitter_id ON core_members (twitter_id)');
        $this->addSql('ALTER TABLE crp_characters CHANGE char_crew_level char_crew_level INT NOT NULL, CHANGE char_hours char_hours INT NOT NULL, CHANGE char_minutes char_minutes SMALLINT NOT NULL, CHANGE char_bankcash char_bankcash INT NOT NULL, CHANGE char_banknumb char_banknumb INT NOT NULL, CHANGE char_posx char_posx DOUBLE PRECISION NOT NULL, CHANGE char_posy char_posy DOUBLE PRECISION NOT NULL, CHANGE char_posz char_posz DOUBLE PRECISION NOT NULL, CHANGE char_posa char_posa DOUBLE PRECISION NOT NULL, CHANGE char_world char_world INT NOT NULL, CHANGE char_interior char_interior INT NOT NULL, CHANGE char_crash char_crash INT NOT NULL, CHANGE char_arrest char_arrest INT NOT NULL, CHANGE char_dependence char_dependence DOUBLE PRECISION NOT NULL, CHANGE char_house char_house INT NOT NULL, CHANGE char_job char_job TINYINT(1) NOT NULL, CHANGE char_documents char_documents TINYINT(1) NOT NULL, CHANGE char_achievements char_achievements INT NOT NULL, CHANGE char_talkstyle char_talkstyle TINYINT(1) NOT NULL, CHANGE char_walkstyle char_walkstyle SMALLINT NOT NULL, CHANGE char_lastskin char_lastskin SMALLINT NOT NULL, CHANGE char_mileage char_mileage DOUBLE PRECISION NOT NULL, CHANGE char_payday char_payday TINYINT(1) NOT NULL, CHANGE char_rename char_rename INT NOT NULL');
        $this->addSql('ALTER TABLE crp_char_groups CHANGE group_rank group_rank SMALLINT NOT NULL, CHANGE group_payday group_payday TINYINT(1) NOT NULL');
        $this->addSql('ALTER TABLE crp_objects CHANGE object_gate object_gate SMALLINT NOT NULL');
        $this->addSql('ALTER TABLE crp_skins CHANGE skin_price skin_price SMALLINT NOT NULL, CHANGE skin_group skin_group TINYINT(1) NOT NULL, CHANGE skin_extraid skin_extraid INT NOT NULL');
        $this->addSql('ALTER TABLE crp_vehicles CHANGE vehicle_world vehicle_world INT NOT NULL, CHANGE vehicle_interior vehicle_interior SMALLINT NOT NULL, CHANGE vehicle_fueltype vehicle_fueltype TINYINT(1) NOT NULL, CHANGE vehicle_access vehicle_access TINYINT(1) NOT NULL, CHANGE vehicle_owner vehicle_owner INT NOT NULL, CHANGE vehicle_ownertype vehicle_ownertype TINYINT(1) NOT NULL');
        $this->addSql('ALTER TABLE crp_products CHANGE product_grouptype product_grouptype LONGTEXT NOT NULL COMMENT \'(DC2Type:simple_array)\', CHANGE product_group product_group LONGTEXT NOT NULL COMMENT \'(DC2Type:simple_array)\'');
    }

    public function down(Schema $schema) : void
    {
        // this down() migration is auto-generated, please modify it to your needs
        $this->abortIf($this->connection->getDatabasePlatform()->getName() !== 'mysql', 'Migration can only be executed safely on \'mysql\'.');

        $this->addSql('ALTER TABLE anty_crasher CHANGE id id INT NOT NULL');
        $this->addSql('DROP INDEX member_groups ON core_members');
        $this->addSql('DROP INDEX twitter_id ON core_members');
        $this->addSql('DROP INDEX name_index ON core_members');
        $this->addSql('ALTER TABLE core_members CHANGE name name VARCHAR(255) DEFAULT \'\' NOT NULL COLLATE utf8mb4_unicode_ci, CHANGE member_group_id member_group_id SMALLINT DEFAULT 0 NOT NULL, CHANGE email email VARCHAR(150) DEFAULT \'\' NOT NULL COLLATE utf8mb4_unicode_ci, CHANGE joined joined INT DEFAULT 0 NOT NULL, CHANGE ip_address ip_address VARCHAR(46) DEFAULT \'\' NOT NULL COLLATE utf8mb4_unicode_ci, CHANGE warn_lastwarn warn_lastwarn INT DEFAULT 0 NOT NULL, CHANGE restrict_post restrict_post INT DEFAULT 0 NOT NULL, CHANGE msg_count_new msg_count_new INT DEFAULT 0 NOT NULL, CHANGE msg_count_total msg_count_total INT DEFAULT 0 NOT NULL, CHANGE msg_count_reset msg_count_reset INT DEFAULT 0 NOT NULL, CHANGE msg_show_notification msg_show_notification INT DEFAULT 0 NOT NULL, CHANGE last_visit last_visit INT DEFAULT 0, CHANGE last_activity last_activity INT DEFAULT 0, CHANGE mod_posts mod_posts INT DEFAULT 0 NOT NULL, CHANGE auto_track auto_track VARCHAR(256) DEFAULT \'0\' COLLATE utf8mb4_unicode_ci, CHANGE temp_ban temp_ban INT DEFAULT 0, CHANGE mgroup_others mgroup_others VARCHAR(245) DEFAULT \'\' NOT NULL COLLATE utf8mb4_unicode_ci, CHANGE members_seo_name members_seo_name VARCHAR(255) DEFAULT \'\' NOT NULL COLLATE utf8mb4_unicode_ci, CHANGE failed_login_count failed_login_count SMALLINT DEFAULT 0 NOT NULL, CHANGE members_profile_views members_profile_views INT UNSIGNED DEFAULT 0 NOT NULL, CHANGE members_bitoptions members_bitoptions INT UNSIGNED DEFAULT 0 NOT NULL, CHANGE fb_uid fb_uid BIGINT UNSIGNED DEFAULT 0 NOT NULL, CHANGE twitter_id twitter_id VARCHAR(255) DEFAULT \'\' NOT NULL COLLATE utf8mb4_unicode_ci, CHANGE twitter_token twitter_token VARCHAR(255) DEFAULT \'\' NOT NULL COLLATE utf8mb4_unicode_ci, CHANGE twitter_secret twitter_secret VARCHAR(255) DEFAULT \'\' NOT NULL COLLATE utf8mb4_unicode_ci, CHANGE notification_cnt notification_cnt INT DEFAULT 0 NOT NULL, CHANGE ipsconnect_id ipsconnect_id INT DEFAULT 0 NOT NULL, CHANGE pp_cover_photo pp_cover_photo VARCHAR(255) DEFAULT \'\' NOT NULL COLLATE utf8mb4_unicode_ci, CHANGE profilesync_lastsync profilesync_lastsync INT DEFAULT 0 NOT NULL COMMENT \'Indicates the last time any profile sync service was ran\', CHANGE members_bitoptions2 members_bitoptions2 INT UNSIGNED DEFAULT 0 NOT NULL, CHANGE create_menu create_menu TEXT DEFAULT NULL COLLATE utf8mb4_unicode_ci COMMENT \'Cached contents of the "Create" drop down menu.\', CHANGE members_disable_pm members_disable_pm TINYINT(1) DEFAULT \'0\' NOT NULL COMMENT \'0 - not disabled, 1 - disabled, member can re-enable, 2 - disabled\', CHANGE marked_site_read marked_site_read INT UNSIGNED DEFAULT 0, CHANGE pp_cover_offset pp_cover_offset INT DEFAULT 0 NOT NULL, CHANGE member_posts member_posts INT DEFAULT 0 NOT NULL, CHANGE failed_mfa_attempts failed_mfa_attempts SMALLINT UNSIGNED DEFAULT 0 COMMENT \'Number of times tried and failed MFA\', CHANGE member_have_graphicnickname member_have_graphicnickname INT DEFAULT 0 NOT NULL, CHANGE member_enable_graphicnickname member_enable_graphicnickname INT DEFAULT 0 NOT NULL, CHANGE member_have_profilemusic member_have_profilemusic INT DEFAULT 0 NOT NULL, CHANGE member_enable_profilemusic member_enable_profilemusic INT DEFAULT 0 NOT NULL');
        $this->addSql('CREATE INDEX member_groups ON core_members (member_group_id, mgroup_others(188))');
        $this->addSql('CREATE INDEX twitter_id ON core_members (twitter_id(191))');
        $this->addSql('CREATE INDEX name_index ON core_members (name(191))');
        $this->addSql('ALTER TABLE crp_char_groups CHANGE group_rank group_rank SMALLINT DEFAULT 0 NOT NULL, CHANGE group_payday group_payday TINYINT(1) DEFAULT \'0\' NOT NULL');
        $this->addSql('ALTER TABLE crp_characters CHANGE char_crew_level char_crew_level INT DEFAULT 0 NOT NULL, CHANGE char_hours char_hours INT DEFAULT 0 NOT NULL, CHANGE char_minutes char_minutes SMALLINT DEFAULT 0 NOT NULL, CHANGE char_bankcash char_bankcash INT DEFAULT 0 NOT NULL, CHANGE char_banknumb char_banknumb INT DEFAULT 0 NOT NULL, CHANGE char_posx char_posx DOUBLE PRECISION DEFAULT \'0\' NOT NULL, CHANGE char_posy char_posy DOUBLE PRECISION DEFAULT \'0\' NOT NULL, CHANGE char_posz char_posz DOUBLE PRECISION DEFAULT \'0\' NOT NULL, CHANGE char_posa char_posa DOUBLE PRECISION DEFAULT \'0\' NOT NULL, CHANGE char_world char_world INT DEFAULT 0 NOT NULL, CHANGE char_interior char_interior INT DEFAULT 0 NOT NULL, CHANGE char_crash char_crash INT DEFAULT 0 NOT NULL, CHANGE char_arrest char_arrest INT DEFAULT 0 NOT NULL, CHANGE char_dependence char_dependence DOUBLE PRECISION DEFAULT \'0\' NOT NULL, CHANGE char_house char_house INT DEFAULT 0 NOT NULL, CHANGE char_job char_job TINYINT(1) DEFAULT \'0\' NOT NULL, CHANGE char_documents char_documents TINYINT(1) DEFAULT \'0\' NOT NULL, CHANGE char_achievements char_achievements INT DEFAULT 0 NOT NULL, CHANGE char_talkstyle char_talkstyle TINYINT(1) DEFAULT \'0\' NOT NULL, CHANGE char_walkstyle char_walkstyle SMALLINT DEFAULT 0 NOT NULL, CHANGE char_lastskin char_lastskin SMALLINT DEFAULT 0 NOT NULL, CHANGE char_mileage char_mileage DOUBLE PRECISION DEFAULT \'0\' NOT NULL, CHANGE char_payday char_payday TINYINT(1) DEFAULT \'0\' NOT NULL, CHANGE char_rename char_rename INT DEFAULT 0 NOT NULL');
        $this->addSql('ALTER TABLE crp_objects CHANGE object_gate object_gate SMALLINT DEFAULT 0 NOT NULL');
        $this->addSql('ALTER TABLE crp_products CHANGE product_grouptype product_grouptype VARCHAR(40) NOT NULL COLLATE utf8_polish_ci, CHANGE product_group product_group VARCHAR(40) NOT NULL COLLATE utf8_polish_ci');
        $this->addSql('ALTER TABLE crp_skins CHANGE skin_price skin_price SMALLINT DEFAULT 0 NOT NULL, CHANGE skin_group skin_group TINYINT(1) DEFAULT \'0\' NOT NULL, CHANGE skin_extraid skin_extraid INT DEFAULT 0 NOT NULL');
        $this->addSql('ALTER TABLE crp_vehicles CHANGE vehicle_world vehicle_world INT DEFAULT 0 NOT NULL, CHANGE vehicle_interior vehicle_interior SMALLINT DEFAULT 0 NOT NULL, CHANGE vehicle_fueltype vehicle_fueltype TINYINT(1) DEFAULT \'0\' NOT NULL, CHANGE vehicle_access vehicle_access TINYINT(1) DEFAULT \'0\' NOT NULL, CHANGE vehicle_owner vehicle_owner INT DEFAULT 0 NOT NULL, CHANGE vehicle_ownertype vehicle_ownertype TINYINT(1) DEFAULT \'0\' NOT NULL');
    }
}
